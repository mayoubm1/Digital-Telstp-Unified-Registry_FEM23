<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TELsTP OmniCognitor - Unified AI Platform</title>
  </head>
  <script>
// YOUR REAL SUPABASE PROJECT (already correct)
const SUPABASE_URL = "https://vrfyjirddfdnwuffzqhb.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZyZnlqaXJkZGZkbnd1ZmZ6cWhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5MDYwNjMsImV4cCI6MjA3NTQ4MjA2M30.glgJwI2yIqUFG8ZtWJk2esxGdXw6nFp5eQ8aANbRAvE";
const BRIDGE = "https://vrfyjirddfdnwuffzqhb.supabase.co/functions/v1/telstp-bridge-v2";

async function callBridge(action, payload = {}) {
  const res = await fetch(BRIDGE, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "apikey": SUPABASE_ANON_KEY,
      "Authorization": "Bearer " + SUPABASE_ANON_KEY
    },
    body: JSON.stringify({ action, payload })
  });

  if (!res.ok) {
    const text = await res.text();
    console.error("Bridge error:", text);
    alert("Error: " + text);
    return null;
  }

  return await res.json();
}

callBridge("get_tables").then(tables => {
  console.log("REAL TABLES LOADED:", tables);
  alert("SUCCESS! " + (tables?.length || 0) + " real tables loaded! Check console");
}).catch(e => console.error(e));
  </script>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

